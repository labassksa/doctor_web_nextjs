# Labass Doctor Portal - Environment Variables
# Copy this file to .env.local and fill in the values

# ============================================================================
# EXISTING ENVIRONMENT VARIABLES (Keep your current values)
# ============================================================================

NEXT_PUBLIC_API_URL=https://api.test.labass.sa/api_labass
NEXT_PUBLIC_WEBSOCKET_URL=wss://api.test.labass.sa
NEXT_PUBLIC_LIVEKIT_URL=wss://labass-82ot742m.livekit.cloud

# ============================================================================
# PUSH NOTIFICATIONS - FIREBASE CLOUD MESSAGING (Required)
# ============================================================================
# Get these from Firebase Console: Project Settings > General
# IMPORTANT: Use the same Firebase project as the patient app

NEXT_PUBLIC_FIREBASE_API_KEY=
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=
NEXT_PUBLIC_FIREBASE_PROJECT_ID=
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=
NEXT_PUBLIC_FIREBASE_APP_ID=

# ============================================================================
# PUSH NOTIFICATIONS - FIREBASE VAPID KEY (Required)
# ============================================================================
# Get this from Firebase Console: Project Settings > Cloud Messaging > Web Push certificates
# Click "Generate key pair" if you don't have one

NEXT_PUBLIC_FIREBASE_VAPID_KEY=

# ============================================================================
# PUSH NOTIFICATIONS - SAFARI WEB PUSH (Optional, for Safari iOS support)
# ============================================================================
# This is the Website Push ID you created in Apple Developer Portal
# Format: web.{domain}.{app}

NEXT_PUBLIC_SAFARI_WEB_PUSH_ID=web.sa.labass.doctor

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================

# 1. FIREBASE SETUP (for Chrome, Firefox, Edge, Android push notifications)
#    - Go to https://console.firebase.google.com
#    - Create new project or select existing project (use same as patient app)
#    - Go to Project Settings (gear icon) > General tab
#    - Scroll to "Your apps" section
#    - Click "Web app" icon (</>) to add web app
#    - Register app with nickname "Labass Doctor Portal"
#    - Copy the config values to the FIREBASE_* variables above
#    - Go to Cloud Messaging tab
#    - Under "Web Push certificates", click "Generate key pair" (or use existing)
#    - Copy the key to NEXT_PUBLIC_FIREBASE_VAPID_KEY

# 2. SERVICE WORKER CONFIGURATION
#    - Open public/firebase-messaging-sw.js
#    - Replace placeholders with your actual Firebase config values:
#      * FIREBASE_API_KEY_PLACEHOLDER → Your API key
#      * FIREBASE_AUTH_DOMAIN_PLACEHOLDER → Your auth domain
#      * FIREBASE_PROJECT_ID_PLACEHOLDER → Your project ID
#      * FIREBASE_STORAGE_BUCKET_PLACEHOLDER → Your storage bucket
#      * FIREBASE_MESSAGING_SENDER_ID_PLACEHOLDER → Your sender ID
#      * FIREBASE_APP_ID_PLACEHOLDER → Your app ID

# 3. ASSET PREPARATION
#    - Generate notification icons (see public/icons/README.md)
#    - Add ringtone audio file (see public/sounds/README.md)

# 4. INSTALL DEPENDENCIES
#    - Run: npm install
#    - This will install the Firebase dependency added to package.json

# 5. TESTING
#    - Run: npm run dev
#    - Login as a doctor
#    - Should see notification permission prompt after 3 seconds
#    - Use browser DevTools > Application > Service Workers to debug

# ============================================================================
# NOTES FOR DOCTOR APP
# ============================================================================

# - Uses 'labass_doctor_token' for authentication (not 'labass_token')
# - Uses 'labass_doctor_userId' for user ID (not 'labass_userId')
# - Push tokens are registered with role: 'doctor'
# - Permission request flag: 'push_permission_requested_doctor'
